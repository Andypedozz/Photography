---
import About from "../components/About.astro";
import CTA from "../components/CTA.astro";
import Footer from "../components/Footer.astro";
import Header from "../components/Header.astro";
import Hero from "../components/Hero.astro";
import Services from "../components/Services.astro";
import Works from "../components/Works.astro";

const links = [
  { label: "Lavori", href: "#works" },
  { label: "Chi sono", href: "#about" },
  { label: "Servizi", href: "#services" },
  { label: "Contatti", href: "#contact" },
];
---

<div class="bg-zinc-950 text-zinc-100 font-sans antialiased overflow-x-hidden">
  <Header links={links} />
  <Hero />
  <Works />
  <About />
  <Services />
  <CTA />
  <Footer />
</div>

<script is:inline>

  // Intersection Observer for scroll animations
  const observerOptions = {
    threshold: 0.1,
    rootMargin: "0px 0px -100px 0px",
  };

  const observer = new IntersectionObserver((entries) => {
    entries.forEach((entry) => {
      if (entry.isIntersecting) {
        entry.target.style.opacity = "1";
        entry.target.style.transform = "translateY(0)";
      }
    });
  }, observerOptions);

  document.querySelectorAll("section > div").forEach((el) => {
    el.style.opacity = "0";
    el.style.transform = "translateY(30px)";
    el.style.transition = "opacity 0.8s ease-out, transform 0.8s ease-out";
    observer.observe(el);
  });
</script>
